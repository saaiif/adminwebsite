{"ast":null,"code":"import _classCallCheck from\"D:\\\\admindashboard\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\admindashboard\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"D:\\\\admindashboard\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"D:\\\\admindashboard\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"D:\\\\admindashboard\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import'./product.css';import{Link}from'react-router-dom';import Categories from'../Categories/categories';import ProductList from'../ProductList/productlist';import Sidebar from'../sidebar/sidebar';import popup from'../PopUp/popup';import{connect}from'react-redux';import Navbars from'../Navbar/navbar2';import Footer from'../Footer/footer';var Product=/*#__PURE__*/function(_Component){_inherits(Product,_Component);function Product(){var _getPrototypeOf2;var _this;_classCallCheck(this,Product);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Product)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={pageData:JSON.parse(localStorage.getItem('Response')).productsPage,sidebartoggler:false};_this.drawerbuttons=function(){_this.setState(function(prevState){return{sidebartoggler:!prevState.sidebartoggler};});};_this.onChkBoxClick=function(selectedProductId){console.log(_this.state.pageData.products);var array=_this.state.pageData.products;array[selectedProductId].selected=!array[selectedProductId].selected;var object=_this.state.pageData;object.products=array;_this.setState({pageData:object});};_this.onDeleteIconClick=function(listName,id){var tempObject=JSON.parse(localStorage.getItem('Response'));var array;if(listName==='productList'){array=_this.state.pageData.products;array.splice(id,1);tempObject.productsPage.products=array;}else if(listName==='categoryList'){array=_this.state.pageData.categories;array.splice(id,1);tempObject.productsPage.categories=array;}localStorage.setItem('Response',JSON.stringify(tempObject));_this.setState({pageData:tempObject.productsPage});};_this.onDeleteSelectedBtnClick=function(){var object=JSON.parse(localStorage.getItem('Response'));var list=_this.state.pageData.products;list=list.filter(function(li){return!li.selected;});object.productsPage.products=list;localStorage.setItem('Response',JSON.stringify(object));_this.setState({pageData:object.productsPage});};return _this;}_createClass(Product,[{key:\"render\",value:function render(){var _this2=this;var sidebar;if(this.state.sidebartoggler){sidebar=React.createElement(Sidebar,null);}return React.createElement(\"div\",{className:\"product-page\"},React.createElement(\"header\",null,React.createElement(Navbars,{burgerbutton:this.drawerbuttons}),sidebar),React.createElement(\"div\",{className:\"pro-container\"},React.createElement(\"div\",{className:\"pl-con\"},React.createElement(\"div\",{className:\"pl\"},React.createElement(ProductList,{propsToPass:{productListData:this.state.pageData.products,onClickingCheckbox:this.onChkBoxClick,onDeleteSingleRow:this.onDeleteIconClick}})),React.createElement(Link,{to:'/addproduct'},React.createElement(\"button\",{className:\"add-btn\"},\"ADD NEW PRODUCT\")),React.createElement(\"button\",{className:\"de-se-btn\",onClick:function onClick(e){return _this2.onDeleteSelectedBtnClick(e);}},\"DELETE SELECTED PRODUCTS\")),React.createElement(\"div\",{className:\"pc-con\"},React.createElement(\"div\",{className:\"pc\"},React.createElement(\"h2\",null,\"Product categories\"),React.createElement(\"div\",{className:\"right-tc\"},React.createElement(\"table\",{className:\"r-table\"},React.createElement(Categories,{propsToPass:{categoriesPageData:this.state.pageData.categories,onDeleteSingleRow:this.onDeleteIconClick}}))),React.createElement(Link,{to:'/product/popup'},React.createElement(\"button\",{className:\"category-btn\",onClick:this.props.onShowPopup},\"ADD NEW CATEGORY\"))))),React.createElement(Footer,null));}}]);return Product;}(Component);var mapGlobalStateToProps=function mapGlobalStateToProps(globalState){return{showPopup:globalState.showPopup};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onShowPopup:function onShowPopup(){dispatch({type:'SHOW_POPUP'});}};};export default connect(mapGlobalStateToProps,mapDispatchToProps)(Product);","map":{"version":3,"sources":["D:/admindashboard/src/components/Product/product.js"],"names":["React","Component","Link","Categories","ProductList","Sidebar","popup","connect","Navbars","Footer","Product","state","pageData","JSON","parse","localStorage","getItem","productsPage","sidebartoggler","drawerbuttons","setState","prevState","onChkBoxClick","selectedProductId","console","log","products","array","selected","object","onDeleteIconClick","listName","id","tempObject","splice","categories","setItem","stringify","onDeleteSelectedBtnClick","list","filter","li","sidebar","productListData","onClickingCheckbox","onDeleteSingleRow","e","categoriesPageData","props","onShowPopup","mapGlobalStateToProps","globalState","showPopup","mapDispatchToProps","dispatch","type"],"mappings":"shBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,eAAP,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,WAAP,KAAwB,4BAAxB,CACA,MAAOC,CAAAA,OAAP,KAAoB,oBAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,gBAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAOC,CAAAA,OAAP,KAAoB,mBAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,C,GAEMC,CAAAA,O,mYACLC,K,CAAQ,CACPC,QAAQ,CAAEC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,EAA6CC,YADhD,CAEPC,cAAc,CAAE,KAFT,C,OAKRC,a,CAAgB,UAAM,CACrB,MAAKC,QAAL,CAAc,SAACC,SAAD,CAAe,CAC5B,MAAO,CAAEH,cAAc,CAAE,CAACG,SAAS,CAACH,cAA7B,CAAP,CACA,CAFD,EAGA,C,OAGDI,a,CAAgB,SAACC,iBAAD,CAAuB,CACtCC,OAAO,CAACC,GAAR,CAAY,MAAKd,KAAL,CAAWC,QAAX,CAAoBc,QAAhC,EACA,GAAIC,CAAAA,KAAK,CAAG,MAAKhB,KAAL,CAAWC,QAAX,CAAoBc,QAAhC,CACAC,KAAK,CAACJ,iBAAD,CAAL,CAAyBK,QAAzB,CAAoC,CAACD,KAAK,CAACJ,iBAAD,CAAL,CAAyBK,QAA9D,CACA,GAAIC,CAAAA,MAAM,CAAG,MAAKlB,KAAL,CAAWC,QAAxB,CACAiB,MAAM,CAACH,QAAP,CAAkBC,KAAlB,CACA,MAAKP,QAAL,CAAc,CACbR,QAAQ,CAAEiB,MADG,CAAd,EAGA,C,OAGDC,iB,CAAoB,SAACC,QAAD,CAAWC,EAAX,CAAkB,CACrC,GAAIC,CAAAA,UAAU,CAAGpB,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAjB,CACA,GAAIW,CAAAA,KAAJ,CACA,GAAII,QAAQ,GAAK,aAAjB,CAAgC,CAC/BJ,KAAK,CAAG,MAAKhB,KAAL,CAAWC,QAAX,CAAoBc,QAA5B,CACAC,KAAK,CAACO,MAAN,CAAaF,EAAb,CAAiB,CAAjB,EACAC,UAAU,CAAChB,YAAX,CAAwBS,QAAxB,CAAmCC,KAAnC,CACA,CAJD,IAIO,IAAII,QAAQ,GAAK,cAAjB,CAAiC,CACvCJ,KAAK,CAAG,MAAKhB,KAAL,CAAWC,QAAX,CAAoBuB,UAA5B,CACAR,KAAK,CAACO,MAAN,CAAaF,EAAb,CAAiB,CAAjB,EACAC,UAAU,CAAChB,YAAX,CAAwBkB,UAAxB,CAAqCR,KAArC,CACA,CAEDZ,YAAY,CAACqB,OAAb,CAAqB,UAArB,CAAiCvB,IAAI,CAACwB,SAAL,CAAeJ,UAAf,CAAjC,EAEA,MAAKb,QAAL,CAAc,CACbR,QAAQ,CAAEqB,UAAU,CAAChB,YADR,CAAd,EAGA,C,OAGDqB,wB,CAA2B,UAAM,CAChC,GAAIT,CAAAA,MAAM,CAAGhB,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAb,CACA,GAAIuB,CAAAA,IAAI,CAAG,MAAK5B,KAAL,CAAWC,QAAX,CAAoBc,QAA/B,CACAa,IAAI,CAAGA,IAAI,CAACC,MAAL,CAAY,SAACC,EAAD,QAAQ,CAACA,EAAE,CAACb,QAAZ,EAAZ,CAAP,CACAC,MAAM,CAACZ,YAAP,CAAoBS,QAApB,CAA+Ba,IAA/B,CACAxB,YAAY,CAACqB,OAAb,CAAqB,UAArB,CAAiCvB,IAAI,CAACwB,SAAL,CAAeR,MAAf,CAAjC,EACA,MAAKT,QAAL,CAAc,CACbR,QAAQ,CAAEiB,MAAM,CAACZ,YADJ,CAAd,EAGA,C,0EAEQ,iBACR,GAAIyB,CAAAA,OAAJ,CACA,GAAI,KAAK/B,KAAL,CAAWO,cAAf,CAA+B,CAC9BwB,OAAO,CAAG,oBAAC,OAAD,MAAV,CACA,CACD,MACC,4BAAK,SAAS,CAAC,cAAf,EACC,kCACC,oBAAC,OAAD,EAAS,YAAY,CAAE,KAAKvB,aAA5B,EADD,CAEEuB,OAFF,CADD,CAMC,2BAAK,SAAS,CAAC,eAAf,EACC,2BAAK,SAAS,CAAC,QAAf,EACC,2BAAK,SAAS,CAAC,IAAf,EAEC,oBAAC,WAAD,EACC,WAAW,CAAE,CACZC,eAAe,CAAE,KAAKhC,KAAL,CAAWC,QAAX,CAAoBc,QADzB,CAEZkB,kBAAkB,CAAE,KAAKtB,aAFb,CAGZuB,iBAAiB,CAAE,KAAKf,iBAHZ,CADd,EAFD,CADD,CAWC,oBAAC,IAAD,EAAM,EAAE,CAAE,aAAV,EACC,8BAAQ,SAAS,CAAC,SAAlB,oBADD,CAXD,CAcC,8BAAQ,SAAS,CAAC,WAAlB,CAA8B,OAAO,CAAE,iBAACgB,CAAD,QAAO,CAAA,MAAI,CAACR,wBAAL,CAA8BQ,CAA9B,CAAP,EAAvC,6BAdD,CADD,CAmBC,2BAAK,SAAS,CAAC,QAAf,EACC,2BAAK,SAAS,CAAC,IAAf,EACC,mDADD,CAEC,2BAAK,SAAS,CAAC,UAAf,EACC,6BAAO,SAAS,CAAC,SAAjB,EAEC,oBAAC,UAAD,EACC,WAAW,CAAE,CACZC,kBAAkB,CAAE,KAAKpC,KAAL,CAAWC,QAAX,CAAoBuB,UAD5B,CAEZU,iBAAiB,CAAE,KAAKf,iBAFZ,CADd,EAFD,CADD,CAFD,CAaC,oBAAC,IAAD,EAAM,EAAE,CAAE,gBAAV,EACC,8BAAQ,SAAS,CAAC,cAAlB,CAAiC,OAAO,CAAE,KAAKkB,KAAL,CAAWC,WAArD,qBADD,CAbD,CADD,CAnBD,CAND,CAiDC,oBAAC,MAAD,MAjDD,CADD,CAqDA,C,qBAnHoBhD,S,EAsHtB,GAAMiD,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAACC,WAAD,CAAiB,CAC9C,MAAO,CACNC,SAAS,CAAED,WAAW,CAACC,SADjB,CAAP,CAGA,CAJD,CAMA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,CAAc,CACxC,MAAO,CACNL,WAAW,CAAE,sBAAM,CAClBK,QAAQ,CAAC,CAAEC,IAAI,CAAE,YAAR,CAAD,CAAR,CACA,CAHK,CAAP,CAKA,CAND,CAQA,cAAehD,CAAAA,OAAO,CAAC2C,qBAAD,CAAwBG,kBAAxB,CAAP,CAAmD3C,OAAnD,CAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport './product.css';\r\nimport { Link } from 'react-router-dom';\r\nimport Categories from '../Categories/categories';\r\nimport ProductList from '../ProductList/productlist';\r\nimport Sidebar from '../sidebar/sidebar';\r\nimport popup from '../PopUp/popup';\r\nimport { connect } from 'react-redux';\r\nimport Navbars from '../Navbar/navbar2';\r\nimport Footer from '../Footer/footer';\r\n\r\nclass Product extends Component {\r\n\tstate = {\r\n\t\tpageData: JSON.parse(localStorage.getItem('Response')).productsPage,\r\n\t\tsidebartoggler: false\r\n\t};\r\n\r\n\tdrawerbuttons = () => {\r\n\t\tthis.setState((prevState) => {\r\n\t\t\treturn { sidebartoggler: !prevState.sidebartoggler };\r\n\t\t});\r\n\t};\r\n\t//-----------CHANGE---------------\r\n\t//PASSED THROUGH PROPS\r\n\tonChkBoxClick = (selectedProductId) => {\r\n\t\tconsole.log(this.state.pageData.products);\r\n\t\tlet array = this.state.pageData.products;\r\n\t\tarray[selectedProductId].selected = !array[selectedProductId].selected;\r\n\t\tlet object = this.state.pageData;\r\n\t\tobject.products = array;\r\n\t\tthis.setState({\r\n\t\t\tpageData: object\r\n\t\t});\r\n\t};\r\n\t//------------------CHANGE----\r\n\t//MADE A COMMON DELETE SINGLE ROW FUNCTION AND PASSED THROUGH PROPS\r\n\tonDeleteIconClick = (listName, id) => {\r\n\t\tlet tempObject = JSON.parse(localStorage.getItem('Response'));\r\n\t\tlet array;\r\n\t\tif (listName === 'productList') {\r\n\t\t\tarray = this.state.pageData.products;\r\n\t\t\tarray.splice(id, 1);\r\n\t\t\ttempObject.productsPage.products = array;\r\n\t\t} else if (listName === 'categoryList') {\r\n\t\t\tarray = this.state.pageData.categories;\r\n\t\t\tarray.splice(id, 1);\r\n\t\t\ttempObject.productsPage.categories = array;\r\n\t\t}\r\n\r\n\t\tlocalStorage.setItem('Response', JSON.stringify(tempObject));\r\n\r\n\t\tthis.setState({\r\n\t\t\tpageData: tempObject.productsPage\r\n\t\t});\r\n\t};\r\n\t//---------CHANGE-----------------\r\n\t//DELETE SELECTED ROWS PASSED THROUGH PROPS\r\n\tonDeleteSelectedBtnClick = () => {\r\n\t\tlet object = JSON.parse(localStorage.getItem('Response'));\r\n\t\tlet list = this.state.pageData.products;\r\n\t\tlist = list.filter((li) => !li.selected);\r\n\t\tobject.productsPage.products = list;\r\n\t\tlocalStorage.setItem('Response', JSON.stringify(object));\r\n\t\tthis.setState({\r\n\t\t\tpageData: object.productsPage\r\n\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\tlet sidebar;\r\n\t\tif (this.state.sidebartoggler) {\r\n\t\t\tsidebar = <Sidebar />;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className=\"product-page\">\r\n\t\t\t\t<header>\r\n\t\t\t\t\t<Navbars burgerbutton={this.drawerbuttons} />\r\n\t\t\t\t\t{sidebar}\r\n\t\t\t\t</header>\r\n\t\t\t\t{/* <div className=\"extra-space\">hi</div> */}\r\n\t\t\t\t<div className=\"pro-container\">\r\n\t\t\t\t\t<div className=\"pl-con\">\r\n\t\t\t\t\t\t<div className=\"pl\">\r\n\t\t\t\t\t\t\t{/*---------------CHANGE-------------------*/}\r\n\t\t\t\t\t\t\t<ProductList\r\n\t\t\t\t\t\t\t\tpropsToPass={{\r\n\t\t\t\t\t\t\t\t\tproductListData: this.state.pageData.products,\r\n\t\t\t\t\t\t\t\t\tonClickingCheckbox: this.onChkBoxClick,\r\n\t\t\t\t\t\t\t\t\tonDeleteSingleRow: this.onDeleteIconClick\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Link to={'/addproduct'}>\r\n\t\t\t\t\t\t\t<button className=\"add-btn\">ADD NEW PRODUCT</button>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<button className=\"de-se-btn\" onClick={(e) => this.onDeleteSelectedBtnClick(e)}>\r\n\t\t\t\t\t\t\tDELETE SELECTED PRODUCTS\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"pc-con\">\r\n\t\t\t\t\t\t<div className=\"pc\">\r\n\t\t\t\t\t\t\t<h2>Product categories</h2>\r\n\t\t\t\t\t\t\t<div className=\"right-tc\">\r\n\t\t\t\t\t\t\t\t<table className=\"r-table\">\r\n\t\t\t\t\t\t\t\t\t{/*---------------CHANGE-------------------*/}\r\n\t\t\t\t\t\t\t\t\t<Categories\r\n\t\t\t\t\t\t\t\t\t\tpropsToPass={{\r\n\t\t\t\t\t\t\t\t\t\t\tcategoriesPageData: this.state.pageData.categories,\r\n\t\t\t\t\t\t\t\t\t\t\tonDeleteSingleRow: this.onDeleteIconClick\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Link to={'/product/popup'}>\r\n\t\t\t\t\t\t\t\t<button className=\"category-btn\" onClick={this.props.onShowPopup}>\r\n\t\t\t\t\t\t\t\t\tADD NEW CATEGORY\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t{/* {this.props.showPopup?<Popup/>:null} */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* <div className=\"extra-space\"></div> */}\r\n\t\t\t\t<Footer />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapGlobalStateToProps = (globalState) => {\r\n\treturn {\r\n\t\tshowPopup: globalState.showPopup\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tonShowPopup: () => {\r\n\t\t\tdispatch({ type: 'SHOW_POPUP' });\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport default connect(mapGlobalStateToProps, mapDispatchToProps)(Product);\r\n"]},"metadata":{},"sourceType":"module"}