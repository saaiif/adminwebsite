{"ast":null,"code":"import _classCallCheck from\"D:\\\\admindashboard\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\admindashboard\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"D:\\\\admindashboard\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"D:\\\\admindashboard\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"D:\\\\admindashboard\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import'./addproduct.css';import{Link}from'react-router-dom';import{connect}from'react-redux';var Addproduct=/*#__PURE__*/function(_Component){_inherits(Addproduct,_Component);function Addproduct(){var _getPrototypeOf2;var _this;_classCallCheck(this,Addproduct);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Addproduct)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={/*pdtnameField:false,\r\n        descField:false,\r\n        categoryField:false,\r\n        dateField:false,\r\n        unitsField:false*/addPdtImg:'',pic:'https://www.lifewire.com/thmb/yLFRNBmwLcKDRnkaZ0B0nXgLAQM=/960x640/filters:no_upscale():max_bytes(150000):strip_icc()/upload-2c485b5b6fef41f39a05afb9adfce03e.png'};_this.handleSubmit=function(e){e.preventDefault();if(_this.props.pdtnameField&&_this.props.descField&&_this.props.dateField&&_this.props.unitsField){_this.props.history.push('/product');console.log(_this.props);}};_this.onInputChange=function(e,name){if(name==='productname'){e.target.value.length>0?_this.props.onPdtNameFieldTrue():_this.props.onPdtNameFieldFalse();localStorage.setItem('productname',e.target.value);}else if(name==='description'){e.target.value.length>0?_this.props.onDescFieldTrue():_this.props.onDescFieldFalse();localStorage.setItem('description',e.target.value);}else if(name==='category'){e.target.value.length>0?_this.props.onCategoryFieldTrue():_this.props.onCategoryFieldFalse();localStorage.setItem('category',e.target.value);}else if(name==='expirydate'){e.target.value.length>0?_this.props.onDateFieldTrue():_this.props.ondateFieldFalse();localStorage.setItem('expirydate',e.target.value);}else if(name==='unitsinstocks'){e.target.value.length>0?_this.props.onUnitsFieldTrue():_this.props.onUnitsFieldFalse();localStorage.setItem('unitsinstocks',e.target.value);}var newProduct={name:localStorage.getItem('productname'),stock:localStorage.getItem('unitsinstocks'),unitSold:localStorage.getItem('description'),expireDate:localStorage.getItem('expirydate')};console.log(JSON.stringify(newProduct));localStorage.setItem('NewProduct',JSON.stringify(newProduct));};_this.onAddPdtBtnClick=function(){var pdtlist=JSON.parse(localStorage.getItem('Response')).productsPage.products;var list=JSON.parse(localStorage.getItem('NewProduct'));var newPdtList=pdtlist.push(JSON.parse(localStorage.getItem('NewProduct')));console.log(list);console.log(pdtlist);var object=JSON.parse(localStorage.getItem('Response'));object.productsPage.products=pdtlist;localStorage.setItem('Response',JSON.stringify(object));console.log(JSON.parse(localStorage.getItem('Response')));};_this.onPicUpload=function(e){var img=_this.state.addPdtImg;var object=JSON.parse(localStorage.getItem('Response'));console.log(e.target.files);if(e.target.files&&e.target.files[0]){var reader=new FileReader();reader.onload=function(e){var imgSrc=e.target.result;_this.setState({pic:e.target.result});object.img=imgSrc;localStorage.setItem('Response',JSON.stringify(object));console.log(object);};reader.readAsDataURL(e.target.files[0]);}};return _this;}_createClass(Addproduct,[{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",{className:\"add-page\"},React.createElement(\"div\",{className:\"extra-space\"},\"hi\"),React.createElement(\"div\",{className:\"add-container\"},React.createElement(\"div\",null,React.createElement(\"h2\",null,\"Add Product\")),React.createElement(\"div\",{className:\"sections-con\"},React.createElement(\"div\",{className:\"detail-section\"},React.createElement(\"form\",{className:\"add-form\",onSubmit:this.handleSubmit},React.createElement(\"div\",null,React.createElement(\"label\",{for:\"name\"},\"Product Name\"),React.createElement(\"input\",{id:\"name\",name:\"name\",type:\"text\",onInput:function onInput(e){return _this2.onInputChange(e,'productname');},required:true})),React.createElement(\"div\",null,React.createElement(\"label\",{for:\"description\"},\"Description\"),React.createElement(\"textarea\",{rows:\"9\",onInput:function onInput(e){return _this2.onInputChange(e,'description');},required:true})),React.createElement(\"div\",null,React.createElement(\"label\",{for:\"category\"},\"category\"),React.createElement(\"select\",{id:\"category\",className:\"select-cat\",onInput:function onInput(e){return _this2.onInputChange(e,'category');},required:true},React.createElement(\"option\",{value:\"0\"},\"Select Category\"),React.createElement(\"option\",{value:\"1\"},\"New Arrival\"),React.createElement(\"option\",{value:\"2\"},\"Most Popular\"),React.createElement(\"option\",{value:\"3\"},\"Trending\"))),React.createElement(\"div\",{className:\"inputs-con\"},React.createElement(\"div\",null,React.createElement(\"label\",{for:\"expiry_date\"},\"Expire Date\"),React.createElement(\"input\",{id:\"expiry_date\",name:\"expiry_date\",type:\"date\",required:true,onInput:function onInput(e){return _this2.onInputChange(e,'expirydate');}})),React.createElement(\"div\",null,React.createElement(\"label\",{for:\"stock\"},\"Units In Stock\"),React.createElement(\"input\",{id:\"stock\",name:\"stock\",type:\"number\",onInput:function onInput(e){return _this2.onInputChange(e,'unitsinstocks');},required:true}))),React.createElement(\"div\",null,React.createElement(\"button\",{type:\"submit\",className:\"add-pdt-btn\",onClick:this.onAddPdtBtnClick},\"ADD PRODUCT NOW\")))),React.createElement(\"div\",{className:\"img-section\"},React.createElement(\"img\",{className:\"upload-img\",src:this.state.pic}),React.createElement(\"div\",null,React.createElement(\"input\",{id:\"fileInput\",type:\"file\",accept:\"image/*\",className:\"pdt-choose-file\",onChange:function onChange(e){return _this2.onPicUpload(e);}}),React.createElement(\"input\",{type:\"button\",className:\"upload-btn\",value:\"UPLOAD PRODUCT IMAGE\"}))))),React.createElement(\"div\",{className:\"extra-space\"},\"hi\"));}}]);return Addproduct;}(Component);var mapGlobalStateToProps=function mapGlobalStateToProps(globalState){return{pdtnameField:globalState.pdtnameField,descField:globalState.descField,categoryField:globalState.categoryField,dateField:globalState.dateField,unitsField:globalState.unitsField};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onPdtNameFieldTrue:function onPdtNameFieldTrue(){dispatch({type:'PDTNAME_YES'});},onPdtNameFieldFalse:function onPdtNameFieldFalse(){dispatch({type:'PDTNAME_NO'});},onDescFieldTrue:function onDescFieldTrue(){dispatch({type:'DESCRIPTION_YES'});},onDescFieldFalse:function onDescFieldFalse(){dispatch({type:'DESCRIPTION_NO'});},onCategoryFieldTrue:function onCategoryFieldTrue(){dispatch({type:'CATEGORY_YES'});},onCategoryFieldFalse:function onCategoryFieldFalse(){dispatch({type:'CATEGORY_NO'});},onDateFieldTrue:function onDateFieldTrue(){dispatch({type:'DATE_YES'});},ondateFieldFalse:function ondateFieldFalse(){dispatch({type:'DATE_NO'});},onUnitsFieldTrue:function onUnitsFieldTrue(){dispatch({type:'UNITS_YES'});},onUnitsFieldFalse:function onUnitsFieldFalse(){dispatch({type:'UNITS_NO'});}};};export default connect(mapGlobalStateToProps,mapDispatchToProps)(Addproduct);","map":{"version":3,"sources":["D:/admindashboard/src/components/Addproduct/addproduct.js"],"names":["React","Component","Link","connect","Addproduct","state","addPdtImg","pic","handleSubmit","e","preventDefault","props","pdtnameField","descField","dateField","unitsField","history","push","console","log","onInputChange","name","target","value","length","onPdtNameFieldTrue","onPdtNameFieldFalse","localStorage","setItem","onDescFieldTrue","onDescFieldFalse","onCategoryFieldTrue","onCategoryFieldFalse","onDateFieldTrue","ondateFieldFalse","onUnitsFieldTrue","onUnitsFieldFalse","newProduct","getItem","stock","unitSold","expireDate","JSON","stringify","onAddPdtBtnClick","pdtlist","parse","productsPage","products","list","newPdtList","object","onPicUpload","img","files","reader","FileReader","onload","imgSrc","result","setState","readAsDataURL","mapGlobalStateToProps","globalState","categoryField","mapDispatchToProps","dispatch","type"],"mappings":"shBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,kBAAP,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,OAAT,KAAwB,aAAxB,C,GAEMC,CAAAA,U,+YACLC,K,CAAQ,CACP;;;;0BAKAC,SAAS,CAAE,EANJ,CAOPC,GAAG,CACF,mKARM,C,OAWRC,Y,CAAe,SAACC,CAAD,CAAO,CACrBA,CAAC,CAACC,cAAF,GACA,GAAI,MAAKC,KAAL,CAAWC,YAAX,EAA2B,MAAKD,KAAL,CAAWE,SAAtC,EAAmD,MAAKF,KAAL,CAAWG,SAA9D,EAA2E,MAAKH,KAAL,CAAWI,UAA1F,CAAsG,CACrG,MAAKJ,KAAL,CAAWK,OAAX,CAAmBC,IAAnB,CAAwB,UAAxB,EACAC,OAAO,CAACC,GAAR,CAAY,MAAKR,KAAjB,EACA,CACD,C,OAEDS,a,CAAgB,SAACX,CAAD,CAAIY,IAAJ,CAAa,CAC5B,GAAIA,IAAI,GAAK,aAAb,CAA4B,CAC3BZ,CAAC,CAACa,MAAF,CAASC,KAAT,CAAeC,MAAf,CAAwB,CAAxB,CAA4B,MAAKb,KAAL,CAAWc,kBAAX,EAA5B,CAA8D,MAAKd,KAAL,CAAWe,mBAAX,EAA9D,CACAC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAoCnB,CAAC,CAACa,MAAF,CAASC,KAA7C,EACA,CAHD,IAGO,IAAIF,IAAI,GAAK,aAAb,CAA4B,CAClCZ,CAAC,CAACa,MAAF,CAASC,KAAT,CAAeC,MAAf,CAAwB,CAAxB,CAA4B,MAAKb,KAAL,CAAWkB,eAAX,EAA5B,CAA2D,MAAKlB,KAAL,CAAWmB,gBAAX,EAA3D,CACAH,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAoCnB,CAAC,CAACa,MAAF,CAASC,KAA7C,EACA,CAHM,IAGA,IAAIF,IAAI,GAAK,UAAb,CAAyB,CAC/BZ,CAAC,CAACa,MAAF,CAASC,KAAT,CAAeC,MAAf,CAAwB,CAAxB,CAA4B,MAAKb,KAAL,CAAWoB,mBAAX,EAA5B,CAA+D,MAAKpB,KAAL,CAAWqB,oBAAX,EAA/D,CACAL,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiCnB,CAAC,CAACa,MAAF,CAASC,KAA1C,EACA,CAHM,IAGA,IAAIF,IAAI,GAAK,YAAb,CAA2B,CACjCZ,CAAC,CAACa,MAAF,CAASC,KAAT,CAAeC,MAAf,CAAwB,CAAxB,CAA4B,MAAKb,KAAL,CAAWsB,eAAX,EAA5B,CAA2D,MAAKtB,KAAL,CAAWuB,gBAAX,EAA3D,CACAP,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAmCnB,CAAC,CAACa,MAAF,CAASC,KAA5C,EACA,CAHM,IAGA,IAAIF,IAAI,GAAK,eAAb,CAA8B,CACpCZ,CAAC,CAACa,MAAF,CAASC,KAAT,CAAeC,MAAf,CAAwB,CAAxB,CAA4B,MAAKb,KAAL,CAAWwB,gBAAX,EAA5B,CAA4D,MAAKxB,KAAL,CAAWyB,iBAAX,EAA5D,CACAT,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAsCnB,CAAC,CAACa,MAAF,CAASC,KAA/C,EACA,CACD,GAAIc,CAAAA,UAAU,CAAG,CAChBhB,IAAI,CAAEM,YAAY,CAACW,OAAb,CAAqB,aAArB,CADU,CAEhBC,KAAK,CAAEZ,YAAY,CAACW,OAAb,CAAqB,eAArB,CAFS,CAGhBE,QAAQ,CAAEb,YAAY,CAACW,OAAb,CAAqB,aAArB,CAHM,CAIhBG,UAAU,CAAEd,YAAY,CAACW,OAAb,CAAqB,YAArB,CAJI,CAAjB,CAOApB,OAAO,CAACC,GAAR,CAAYuB,IAAI,CAACC,SAAL,CAAeN,UAAf,CAAZ,EACAV,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAmCc,IAAI,CAACC,SAAL,CAAeN,UAAf,CAAnC,EACA,C,OAEDO,gB,CAAmB,UAAM,CACxB,GAAIC,CAAAA,OAAO,CAAGH,IAAI,CAACI,KAAL,CAAWnB,YAAY,CAACW,OAAb,CAAqB,UAArB,CAAX,EAA6CS,YAA7C,CAA0DC,QAAxE,CACA,GAAIC,CAAAA,IAAI,CAAGP,IAAI,CAACI,KAAL,CAAWnB,YAAY,CAACW,OAAb,CAAqB,YAArB,CAAX,CAAX,CACA,GAAIY,CAAAA,UAAU,CAAGL,OAAO,CAAC5B,IAAR,CAAayB,IAAI,CAACI,KAAL,CAAWnB,YAAY,CAACW,OAAb,CAAqB,YAArB,CAAX,CAAb,CAAjB,CACApB,OAAO,CAACC,GAAR,CAAY8B,IAAZ,EACA/B,OAAO,CAACC,GAAR,CAAY0B,OAAZ,EACA,GAAIM,CAAAA,MAAM,CAAGT,IAAI,CAACI,KAAL,CAAWnB,YAAY,CAACW,OAAb,CAAqB,UAArB,CAAX,CAAb,CACAa,MAAM,CAACJ,YAAP,CAAoBC,QAApB,CAA+BH,OAA/B,CACAlB,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiCc,IAAI,CAACC,SAAL,CAAeQ,MAAf,CAAjC,EACAjC,OAAO,CAACC,GAAR,CAAYuB,IAAI,CAACI,KAAL,CAAWnB,YAAY,CAACW,OAAb,CAAqB,UAArB,CAAX,CAAZ,EACA,C,OAEDc,W,CAAc,SAAC3C,CAAD,CAAO,CACpB,GAAI4C,CAAAA,GAAG,CAAG,MAAKhD,KAAL,CAAWC,SAArB,CACA,GAAI6C,CAAAA,MAAM,CAAGT,IAAI,CAACI,KAAL,CAAWnB,YAAY,CAACW,OAAb,CAAqB,UAArB,CAAX,CAAb,CACApB,OAAO,CAACC,GAAR,CAAYV,CAAC,CAACa,MAAF,CAASgC,KAArB,EACA,GAAI7C,CAAC,CAACa,MAAF,CAASgC,KAAT,EAAkB7C,CAAC,CAACa,MAAF,CAASgC,KAAT,CAAe,CAAf,CAAtB,CAAyC,CACxC,GAAIC,CAAAA,MAAM,CAAG,GAAIC,CAAAA,UAAJ,EAAb,CACAD,MAAM,CAACE,MAAP,CAAgB,SAAChD,CAAD,CAAO,CACtB,GAAIiD,CAAAA,MAAM,CAAGjD,CAAC,CAACa,MAAF,CAASqC,MAAtB,CACA,MAAKC,QAAL,CAAc,CAAErD,GAAG,CAAEE,CAAC,CAACa,MAAF,CAASqC,MAAhB,CAAd,EACAR,MAAM,CAACE,GAAP,CAAaK,MAAb,CACA/B,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiCc,IAAI,CAACC,SAAL,CAAeQ,MAAf,CAAjC,EACAjC,OAAO,CAACC,GAAR,CAAYgC,MAAZ,EACA,CAND,CAOAI,MAAM,CAACM,aAAP,CAAqBpD,CAAC,CAACa,MAAF,CAASgC,KAAT,CAAe,CAAf,CAArB,EACA,CACD,C,6EAEQ,iBACR,MACC,4BAAK,SAAS,CAAC,UAAf,EACC,2BAAK,SAAS,CAAC,aAAf,OADD,CAEC,2BAAK,SAAS,CAAC,eAAf,EACC,+BACC,4CADD,CADD,CAIC,2BAAK,SAAS,CAAC,cAAf,EACC,2BAAK,SAAS,CAAC,gBAAf,EACC,4BAAM,SAAS,CAAC,UAAhB,CAA2B,QAAQ,CAAE,KAAK9C,YAA1C,EACC,+BACC,6BAAO,GAAG,CAAC,MAAX,iBADD,CAEC,6BACC,EAAE,CAAC,MADJ,CAEC,IAAI,CAAC,MAFN,CAGC,IAAI,CAAC,MAHN,CAIC,OAAO,CAAE,iBAACC,CAAD,QAAO,CAAA,MAAI,CAACW,aAAL,CAAmBX,CAAnB,CAAsB,aAAtB,CAAP,EAJV,CAKC,QAAQ,KALT,EAFD,CADD,CAWC,+BACC,6BAAO,GAAG,CAAC,aAAX,gBADD,CAEC,gCAAU,IAAI,CAAC,GAAf,CAAmB,OAAO,CAAE,iBAACA,CAAD,QAAO,CAAA,MAAI,CAACW,aAAL,CAAmBX,CAAnB,CAAsB,aAAtB,CAAP,EAA5B,CAAyE,QAAQ,KAAjF,EAFD,CAXD,CAeC,+BACC,6BAAO,GAAG,CAAC,UAAX,aADD,CAEC,8BACC,EAAE,CAAC,UADJ,CAEC,SAAS,CAAC,YAFX,CAGC,OAAO,CAAE,iBAACA,CAAD,QAAO,CAAA,MAAI,CAACW,aAAL,CAAmBX,CAAnB,CAAsB,UAAtB,CAAP,EAHV,CAIC,QAAQ,KAJT,EAMC,8BAAQ,KAAK,CAAC,GAAd,oBAND,CAOC,8BAAQ,KAAK,CAAC,GAAd,gBAPD,CAQC,8BAAQ,KAAK,CAAC,GAAd,iBARD,CASC,8BAAQ,KAAK,CAAC,GAAd,aATD,CAFD,CAfD,CA6BC,2BAAK,SAAS,CAAC,YAAf,EACC,+BACC,6BAAO,GAAG,CAAC,aAAX,gBADD,CAEC,6BACC,EAAE,CAAC,aADJ,CAEC,IAAI,CAAC,aAFN,CAGC,IAAI,CAAC,MAHN,CAIC,QAAQ,KAJT,CAKC,OAAO,CAAE,iBAACA,CAAD,QAAO,CAAA,MAAI,CAACW,aAAL,CAAmBX,CAAnB,CAAsB,YAAtB,CAAP,EALV,EAFD,CADD,CAWC,+BACC,6BAAO,GAAG,CAAC,OAAX,mBADD,CAEC,6BACC,EAAE,CAAC,OADJ,CAEC,IAAI,CAAC,OAFN,CAGC,IAAI,CAAC,QAHN,CAIC,OAAO,CAAE,iBAACA,CAAD,QAAO,CAAA,MAAI,CAACW,aAAL,CAAmBX,CAAnB,CAAsB,eAAtB,CAAP,EAJV,CAKC,QAAQ,KALT,EAFD,CAXD,CA7BD,CAmDC,+BACC,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,aAAhC,CAA8C,OAAO,CAAE,KAAKmC,gBAA5D,oBADD,CAnDD,CADD,CADD,CA4DC,2BAAK,SAAS,CAAC,aAAf,EACC,2BAAK,SAAS,CAAC,YAAf,CAA4B,GAAG,CAAE,KAAKvC,KAAL,CAAWE,GAA5C,EADD,CAEC,+BACC,6BACC,EAAE,CAAC,WADJ,CAEC,IAAI,CAAC,MAFN,CAGC,MAAM,CAAC,SAHR,CAIC,SAAS,CAAC,iBAJX,CAKC,QAAQ,CAAE,kBAACE,CAAD,QAAO,CAAA,MAAI,CAAC2C,WAAL,CAAiB3C,CAAjB,CAAP,EALX,EADD,CAQC,6BAAO,IAAI,CAAC,QAAZ,CAAqB,SAAS,CAAC,YAA/B,CAA4C,KAAK,CAAC,sBAAlD,EARD,CAFD,CA5DD,CAJD,CAFD,CAiFC,2BAAK,SAAS,CAAC,aAAf,OAjFD,CADD,CAqFA,C,wBAnKuBR,S,EAsKzB,GAAM6D,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAACC,WAAD,CAAiB,CAC9C,MAAO,CACNnD,YAAY,CAAEmD,WAAW,CAACnD,YADpB,CAENC,SAAS,CAAEkD,WAAW,CAAClD,SAFjB,CAGNmD,aAAa,CAAED,WAAW,CAACC,aAHrB,CAINlD,SAAS,CAAEiD,WAAW,CAACjD,SAJjB,CAKNC,UAAU,CAAEgD,WAAW,CAAChD,UALlB,CAAP,CAOA,CARD,CAUA,GAAMkD,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,CAAc,CACxC,MAAO,CACNzC,kBAAkB,CAAE,6BAAM,CACzByC,QAAQ,CAAC,CAAEC,IAAI,CAAE,aAAR,CAAD,CAAR,CACA,CAHK,CAINzC,mBAAmB,CAAE,8BAAM,CAC1BwC,QAAQ,CAAC,CAAEC,IAAI,CAAE,YAAR,CAAD,CAAR,CACA,CANK,CAONtC,eAAe,CAAE,0BAAM,CACtBqC,QAAQ,CAAC,CAAEC,IAAI,CAAE,iBAAR,CAAD,CAAR,CACA,CATK,CAUNrC,gBAAgB,CAAE,2BAAM,CACvBoC,QAAQ,CAAC,CAAEC,IAAI,CAAE,gBAAR,CAAD,CAAR,CACA,CAZK,CAaNpC,mBAAmB,CAAE,8BAAM,CAC1BmC,QAAQ,CAAC,CAAEC,IAAI,CAAE,cAAR,CAAD,CAAR,CACA,CAfK,CAgBNnC,oBAAoB,CAAE,+BAAM,CAC3BkC,QAAQ,CAAC,CAAEC,IAAI,CAAE,aAAR,CAAD,CAAR,CACA,CAlBK,CAmBNlC,eAAe,CAAE,0BAAM,CACtBiC,QAAQ,CAAC,CAAEC,IAAI,CAAE,UAAR,CAAD,CAAR,CACA,CArBK,CAsBNjC,gBAAgB,CAAE,2BAAM,CACvBgC,QAAQ,CAAC,CAAEC,IAAI,CAAE,SAAR,CAAD,CAAR,CACA,CAxBK,CAyBNhC,gBAAgB,CAAE,2BAAM,CACvB+B,QAAQ,CAAC,CAAEC,IAAI,CAAE,WAAR,CAAD,CAAR,CACA,CA3BK,CA4BN/B,iBAAiB,CAAE,4BAAM,CACxB8B,QAAQ,CAAC,CAAEC,IAAI,CAAE,UAAR,CAAD,CAAR,CACA,CA9BK,CAAP,CAgCA,CAjCD,CAmCA,cAAehE,CAAAA,OAAO,CAAC2D,qBAAD,CAAwBG,kBAAxB,CAAP,CAAmD7D,UAAnD,CAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport './addproduct.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Addproduct extends Component {\r\n\tstate = {\r\n\t\t/*pdtnameField:false,\r\n        descField:false,\r\n        categoryField:false,\r\n        dateField:false,\r\n        unitsField:false*/\r\n\t\taddPdtImg: '',\r\n\t\tpic:\r\n\t\t\t'https://www.lifewire.com/thmb/yLFRNBmwLcKDRnkaZ0B0nXgLAQM=/960x640/filters:no_upscale():max_bytes(150000):strip_icc()/upload-2c485b5b6fef41f39a05afb9adfce03e.png'\r\n\t};\r\n\r\n\thandleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (this.props.pdtnameField && this.props.descField && this.props.dateField && this.props.unitsField) {\r\n\t\t\tthis.props.history.push('/product');\r\n\t\t\tconsole.log(this.props);\r\n\t\t}\r\n\t};\r\n\r\n\tonInputChange = (e, name) => {\r\n\t\tif (name === 'productname') {\r\n\t\t\te.target.value.length > 0 ? this.props.onPdtNameFieldTrue() : this.props.onPdtNameFieldFalse();\r\n\t\t\tlocalStorage.setItem('productname', e.target.value);\r\n\t\t} else if (name === 'description') {\r\n\t\t\te.target.value.length > 0 ? this.props.onDescFieldTrue() : this.props.onDescFieldFalse();\r\n\t\t\tlocalStorage.setItem('description', e.target.value);\r\n\t\t} else if (name === 'category') {\r\n\t\t\te.target.value.length > 0 ? this.props.onCategoryFieldTrue() : this.props.onCategoryFieldFalse();\r\n\t\t\tlocalStorage.setItem('category', e.target.value);\r\n\t\t} else if (name === 'expirydate') {\r\n\t\t\te.target.value.length > 0 ? this.props.onDateFieldTrue() : this.props.ondateFieldFalse();\r\n\t\t\tlocalStorage.setItem('expirydate', e.target.value);\r\n\t\t} else if (name === 'unitsinstocks') {\r\n\t\t\te.target.value.length > 0 ? this.props.onUnitsFieldTrue() : this.props.onUnitsFieldFalse();\r\n\t\t\tlocalStorage.setItem('unitsinstocks', e.target.value);\r\n\t\t}\r\n\t\tvar newProduct = {\r\n\t\t\tname: localStorage.getItem('productname'),\r\n\t\t\tstock: localStorage.getItem('unitsinstocks'),\r\n\t\t\tunitSold: localStorage.getItem('description'),\r\n\t\t\texpireDate: localStorage.getItem('expirydate')\r\n\t\t};\r\n\r\n\t\tconsole.log(JSON.stringify(newProduct));\r\n\t\tlocalStorage.setItem('NewProduct', JSON.stringify(newProduct));\r\n\t};\r\n\r\n\tonAddPdtBtnClick = () => {\r\n\t\tvar pdtlist = JSON.parse(localStorage.getItem('Response')).productsPage.products;\r\n\t\tvar list = JSON.parse(localStorage.getItem('NewProduct'));\r\n\t\tvar newPdtList = pdtlist.push(JSON.parse(localStorage.getItem('NewProduct')));\r\n\t\tconsole.log(list);\r\n\t\tconsole.log(pdtlist);\r\n\t\tvar object = JSON.parse(localStorage.getItem('Response'));\r\n\t\tobject.productsPage.products = pdtlist;\r\n\t\tlocalStorage.setItem('Response', JSON.stringify(object));\r\n\t\tconsole.log(JSON.parse(localStorage.getItem('Response')));\r\n\t};\r\n\r\n\tonPicUpload = (e) => {\r\n\t\tvar img = this.state.addPdtImg;\r\n\t\tvar object = JSON.parse(localStorage.getItem('Response'));\r\n\t\tconsole.log(e.target.files);\r\n\t\tif (e.target.files && e.target.files[0]) {\r\n\t\t\tlet reader = new FileReader();\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tlet imgSrc = e.target.result;\r\n\t\t\t\tthis.setState({ pic: e.target.result });\r\n\t\t\t\tobject.img = imgSrc;\r\n\t\t\t\tlocalStorage.setItem('Response', JSON.stringify(object));\r\n\t\t\t\tconsole.log(object);\r\n\t\t\t};\r\n\t\t\treader.readAsDataURL(e.target.files[0]);\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"add-page\">\r\n\t\t\t\t<div className=\"extra-space\">hi</div>\r\n\t\t\t\t<div className=\"add-container\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<h2>Add Product</h2>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"sections-con\">\r\n\t\t\t\t\t\t<div className=\"detail-section\">\r\n\t\t\t\t\t\t\t<form className=\"add-form\" onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<label for=\"name\">Product Name</label>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tonInput={(e) => this.onInputChange(e, 'productname')}\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<label for=\"description\">Description</label>\r\n\t\t\t\t\t\t\t\t\t<textarea rows=\"9\" onInput={(e) => this.onInputChange(e, 'description')} required />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<label for=\"category\">category</label>\r\n\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\tid=\"category\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"select-cat\"\r\n\t\t\t\t\t\t\t\t\t\tonInput={(e) => this.onInputChange(e, 'category')}\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"0\">Select Category</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"1\">New Arrival</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"2\">Most Popular</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"3\">Trending</option>\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"inputs-con\">\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<label for=\"expiry_date\">Expire Date</label>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"expiry_date\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"expiry_date\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\tonInput={(e) => this.onInputChange(e, 'expirydate')}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<label for=\"stock\">Units In Stock</label>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"stock\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"stock\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\tonInput={(e) => this.onInputChange(e, 'unitsinstocks')}\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<button type=\"submit\" className=\"add-pdt-btn\" onClick={this.onAddPdtBtnClick}>\r\n\t\t\t\t\t\t\t\t\t\tADD PRODUCT NOW\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"img-section\">\r\n\t\t\t\t\t\t\t<img className=\"upload-img\" src={this.state.pic} />\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tid=\"fileInput\"\r\n\t\t\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"pdt-choose-file\"\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => this.onPicUpload(e)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<input type=\"button\" className=\"upload-btn\" value=\"UPLOAD PRODUCT IMAGE\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"extra-space\">hi</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapGlobalStateToProps = (globalState) => {\r\n\treturn {\r\n\t\tpdtnameField: globalState.pdtnameField,\r\n\t\tdescField: globalState.descField,\r\n\t\tcategoryField: globalState.categoryField,\r\n\t\tdateField: globalState.dateField,\r\n\t\tunitsField: globalState.unitsField\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tonPdtNameFieldTrue: () => {\r\n\t\t\tdispatch({ type: 'PDTNAME_YES' });\r\n\t\t},\r\n\t\tonPdtNameFieldFalse: () => {\r\n\t\t\tdispatch({ type: 'PDTNAME_NO' });\r\n\t\t},\r\n\t\tonDescFieldTrue: () => {\r\n\t\t\tdispatch({ type: 'DESCRIPTION_YES' });\r\n\t\t},\r\n\t\tonDescFieldFalse: () => {\r\n\t\t\tdispatch({ type: 'DESCRIPTION_NO' });\r\n\t\t},\r\n\t\tonCategoryFieldTrue: () => {\r\n\t\t\tdispatch({ type: 'CATEGORY_YES' });\r\n\t\t},\r\n\t\tonCategoryFieldFalse: () => {\r\n\t\t\tdispatch({ type: 'CATEGORY_NO' });\r\n\t\t},\r\n\t\tonDateFieldTrue: () => {\r\n\t\t\tdispatch({ type: 'DATE_YES' });\r\n\t\t},\r\n\t\tondateFieldFalse: () => {\r\n\t\t\tdispatch({ type: 'DATE_NO' });\r\n\t\t},\r\n\t\tonUnitsFieldTrue: () => {\r\n\t\t\tdispatch({ type: 'UNITS_YES' });\r\n\t\t},\r\n\t\tonUnitsFieldFalse: () => {\r\n\t\t\tdispatch({ type: 'UNITS_NO' });\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport default connect(mapGlobalStateToProps, mapDispatchToProps)(Addproduct);\r\n"]},"metadata":{},"sourceType":"module"}